<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>钧鸢的阿拉伯语记忆</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- 引入 Font Awesome 免费版，用于设置图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

    <!-- 页面容器 -->
    <div class="app-container">
        <!-- 学习页面 -->
        <div id="study-page" class="page">
            <div class="page-header">
                <h1>学习</h1>
            </div>
            
            <div class="page-content">
                <div id="card-container">
                    <!-- 进度条 -->
                    <div id="progress-container">
                        <div id="progress-bar">0%</div>
                    </div>
                    
                    <!-- 闪卡内容将由JavaScript动态组织 -->
                    <div class="flashcard">
                        <h2 id="word-display"></h2>
                        <div id="answer-display" class="spoiler" title="点击显示/隐藏答案"></div>
                        <p id="explanation-display" class="spoiler"></p>
                    </div>

                    <!-- 控制按钮 -->
                    <div id="controls">
                        <button id="forgot-btn" class="btn"><i class="fas fa-times"></i> 忘记</button>
                        <button id="hard-btn" class="btn"><i class="fas fa-question"></i> 模糊</button> 
                        <button id="easy-btn" class="btn"><i class="fas fa-check"></i> 记得</button> 
                        <button id="next-word-in-history-btn" class="btn" style="display: none;">下一个词</button>
                    </div>
                    
                    <!-- 导航控制 -->
                    <div id="nav-controls">
                        <button id="prev-btn" class="btn">上一个词</button>
                        <button id="back-to-menu-btn" class="btn">返回</button>
                    </div>
                </div>

                <!-- 完成屏幕 -->
                <div id="completion-screen">
                    <h2>🎉 恭喜你完成了本词库的记忆 🎉</h2>
                    <p>所有单词都已牢牢记住！</p>
                    <button id="finish-back-to-menu-btn" class="btn" style="background-color: #00695c;">返回</button>
                </div>
            </div>
        </div>

        <!-- 词库页面 -->
        <div id="decks-page" class="page active">
            <div class="page-header">
                <h1>词库管理</h1>
            </div>
            
            <div class="page-content">
                <div id="start-screen">
                    <!-- 规律学习区域 -->
                    <div id="regular-study-section" class="feature-section">
                        <h3>规律学习</h3>
                        <p>每日新单词 + 智能复习计划</p>
                        <button id="regular-study-btn" class="btn feature-btn">
                            📅 开始规律学习
                        </button>
                    </div>

                    <div id="deck-selection-container"></div>

                    <div id="import-section" class="feature-section">
                        <div class="import-divider"></div>
                        <h3>导入新词库</h3>
                        <input type="file" id="file-input" accept=".json,.csv,.js,.txt" style="display: none;">
                        <button id="import-btn" class="btn feature-btn">
                            📁 选择文件导入
                        </button>
                        <div id="import-info">
                            <p>支持格式：JSON、CSV、JS对象</p>
                            <details>
                                <summary>查看格式要求</summary>
                                <div class="format-example">
{"第二课：你好": [
    {
        "chinese": "谁 (疑问代词)",
        "arabic": "مَنْ",
        "explanation": "مَنْ هُوَ？ (他是谁？)"
    },
    {
        "chinese": "你 (阳性)",
        "arabic": "أَنْتَ",
        "explanation": "أَنْتَ طَالِبٌ. (你是一个男学生。)"
    },...}
]}}
                                </div>
                            </details>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 设置页面 -->
        <div id="settings-page" class="page">
            <div class="page-header">
                <h1>设置</h1>
            </div>
            
            <div class="page-content">
                <div class="settings-section">
                    <h3>学习模式</h3>
                    <div id="mode-selection-container">
                        <label>
                            <input type="radio" name="mode" value="zh-ar" checked> 
                            <span class="radio-label">显示中文背阿语</span>
                        </label>
                        <label>
                            <input type="radio" name="mode" value="ar-zh"> 
                            <span class="radio-label">显示阿语背中文</span>
                        </label>
                        <label>
                            <input type="radio" name="mode" value="mixed"> 
                            <span class="radio-label">混合模式</span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>数据管理</h3>
                    <div class="settings-buttons">
                        <button id="view-stats-btn" class="btn settings-btn">
                            <i class="fas fa-chart-bar"></i> 学习统计
                        </button>
                        <button id="export-backup-btn" class="btn settings-btn">
                            <i class="fas fa-download"></i> 导出备份
                        </button>
                        <button id="import-backup-btn" class="btn settings-btn">
                            <i class="fas fa-upload"></i> 导入备份
                        </button>
                        <button id="check-storage-btn" class="btn settings-btn">
                            <i class="fas fa-hdd"></i> 存储空间
                        </button>
                        <button id="clear-data-btn" class="btn settings-btn danger">
                            <i class="fas fa-trash"></i> 清除数据
                        </button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>应用信息</h3>
                    <div class="app-info">
                        <p><a id="check-updates-link" href="#" class="update-link">
                            <i class="fas fa-sync-alt"></i> 检查更新
                        </a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部导航栏 -->
    <nav class="bottom-nav">
        <button class="nav-btn" data-page="study-page">
            <i class="fas fa-brain"></i>
            <span>学习</span>
        </button>
        <button class="nav-btn active" data-page="decks-page">
            <i class="fas fa-book"></i>
            <span>词库</span>
        </button>
        <button class="nav-btn" data-page="settings-page">
            <i class="fas fa-cog"></i>
            <span>设置</span>
        </button>
    </nav>

    <!-- 模态框保持不变 -->
    <div id="random-test-modal" class="modal">
        <!-- 内容保持不变 -->
    </div>

    <!-- 统计信息模态框 -->
    <div id="stats-modal" class="modal">
        <div class="modal-content">
            <h2 id="stats-modal-title">学习统计</h2>
            <div id="stats-modal-body"></div>
            <button id="stats-modal-close-btn" class="btn">关闭</button>
        </div>
    </div>

    <script src="js/update.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>
